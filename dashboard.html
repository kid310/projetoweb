<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Sistema de Gest√£o Acad√™mica Uniesquina</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link href='https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.8/main.min.css' rel='stylesheet' />
    <link href='https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.8/main.min.css' rel='stylesheet' />
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.global.min.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="js/fullcalendar-6.1.17/dist/index.global.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.js"></script>
    <script src="js/script.js"></script>
</head>
<body>

<div class="d-flex vh-100">
    <!-- Menu Lateral -->
    <div id="sidebar" class="bg-primary text-white p-3 collapsed" style="background-color: #0066CC !important;">
        <div class="d-flex justify-content-between align-items-center">
            <h4 class="mb-4">Menu</h4>
            <button class="btn btn-light btn-sm toggle-btn" onclick="toggleSidebar()">
                <svg id="toggleIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="24" height="24">
                    <defs>
                        <linearGradient id="btnGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#0066CC;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#003DA5;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <circle cx="100" cy="100" r="95" fill="url(#btnGradient)"/>
                    <text x="100" y="125" font-size="70" font-weight="bold" fill="white" text-anchor="middle" font-family="Arial, sans-serif">U</text>
                </svg>
            </button>
        </div>
        <ul class="nav flex-column">
            <li class="nav-item mb-2">
                <a href="#" class="nav-link text-white" onclick="abrirModal('admin')">Turmas</a>
            </li>
            <li class="nav-item mb-2">
                <a href="#" class="nav-link text-white" onclick="abrirModal('matricula')">Matr√≠cula</a>
            </li>
            <li class="nav-item mb-2 mt-4 pt-2 border-top border-white border-opacity-25">
                <a href="#" class="nav-link text-white" onclick="abrirModalSobre()">‚ÑπÔ∏è Sobre</a>
            </li>
            <li class="nav-item mb-2">
                <a href="#" class="nav-link text-white text-danger" onclick="fazerLogout()">üö™ Sair</a>
            </li>
        </ul>
    </div>

    <!-- Conte√∫do Principal -->
    <div class="p-4 flex-grow-1 bg-light d-flex flex-column">
        <!-- Banner Matr√≠culas -->
        <div class="banner-matriculas mb-4">
            <div class="banner-content">
                <h1 class="banner-title">Bem-vindo <span id="nomeUsuario">Henrique</span></h1>
                <p class="banner-subtitle">Sistema de Gest√£o Acad√™mica</p>
                <div class="badge-periodo">
                    <i class="bi bi-calendar-check"></i>
                    Matr√≠culas 2026/1
                </div>
            </div>
        </div>

        <!-- Conte√∫do informativo -->
        <div class="info-section">
            <h3 style="color: #0066CC;">Selecione uma funcionalidade</h3>
            <p class="text-muted">Use o menu √† esquerda para acessar as op√ß√µes dispon√≠veis do sistema.</p>
            
            <!-- Estat√≠sticas -->
            <div class="row mt-4 mb-4">
                <div class="col-md-6">
                    <div class="stats-card">
                        <div class="stats-icon">üìö</div>
                        <h5>Turmas Cadastradas</h5>
                        <p class="stats-number" id="totalTurmas">0</p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="stats-card">
                        <div class="stats-icon">üìù</div>
                        <h5>Matr√≠culas Registradas</h5>
                        <p class="stats-number" id="totalMatriculas">0</p>
                    </div>
                </div>
            </div>
            
            <div class="row mt-4">
                <div class="col-md-6">
                    <div class="info-card" onclick="abrirModal('admin')" style="cursor: pointer;">
                        <div class="card-icon">üìö</div>
                        <h5>Turmas</h5>
                        <p>Gerenciar turmas e disciplinas</p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="info-card" onclick="abrirModal('matricula')" style="cursor: pointer;">
                        <div class="card-icon">üìù</div>
                        <h5>Matr√≠culas</h5>
                        <p>Registrar e gerenciar matr√≠culas</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal gen√©rico -->
<div class="modal fade" id="modalContainer" tabindex="-1">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalTitle">T√≠tulo</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body" id="modalBody">...</div>
    </div>
  </div>
</div>

<script>
  // Recuperar nome do usu√°rio do localStorage
  const nomeUsuario = localStorage.getItem('nomeUsuario') || 'Henrique';
  document.getElementById('nomeUsuario').textContent = nomeUsuario;

  // Fun√ß√£o para atualizar estat√≠sticas
  function atualizarEstatisticas() {
    const turmas = JSON.parse(localStorage.getItem('turmas')) || [];
    const matriculas = JSON.parse(localStorage.getItem('matriculas')) || [];
    
    document.getElementById('totalTurmas').textContent = turmas.length;
    document.getElementById('totalMatriculas').textContent = matriculas.length;
  }

  // Atualizar estat√≠sticas ao carregar a p√°gina
  atualizarEstatisticas();

  // Atualizar estat√≠sticas a cada 1 segundo (para sincroniza√ß√£o em tempo real)
  setInterval(atualizarEstatisticas, 1000);

  // Fun√ß√£o para fazer logout
  function fazerLogout() {
    if (confirm('Tem certeza que deseja sair?')) {
      localStorage.removeItem('nomeUsuario');
      window.location.href = 'index.html';
    }
  }

  // Fun√ß√£o para abrir modal sobre
  function abrirModalSobre() {
    const sobreHTML = `
      <div style="padding: 40px; text-align: center; position: relative; overflow: hidden;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="120" height="120" style="margin-bottom: 20px;">
          <defs>
            <linearGradient id="logoBg" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#ffffff;stop-opacity:0.95" />
              <stop offset="100%" style="stop-color:#ffffff;stop-opacity:0.85" />
            </linearGradient>
          </defs>
          <circle cx="100" cy="100" r="95" fill="url(#logoBg)"/>
          <circle cx="100" cy="100" r="95" fill="none" stroke="rgba(0,102,204,0.4)" stroke-width="3"/>
          <text x="100" y="130" font-size="90" font-weight="bold" fill="#0066CC" text-anchor="middle" font-family="Arial, sans-serif">U</text>
        </svg>
        
        <h2 style="color: #0066CC; margin: 20px 0;">Uniesquina</h2>
        
        <div style="background: #f0f5ff; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #0066CC;">
          <h5 style="color: #0066CC; margin-bottom: 15px;">Desenvolvimento Front-End</h5>
          <p style="margin: 8px 0;"><strong>Henrique Barbacovi Schroeder</strong></p>
          <p style="margin: 8px 0;"><strong>Guilherme da Silva Schwartzhaupt</strong></p>
        </div>
        
        <!-- Mensagem escondida na diagonal -->
        <div style="
          position: absolute;
          bottom: 20px;
          right: 20px;
          transform: rotate(-45deg);
          opacity: 0.45;
          font-size: 1.2rem;
          white-space: nowrap;
          color: #0066CC;
          font-weight: bold;
          pointer-events: none;
        ">
          üáµüá∏ #FreePalestine
        </div>
      </div>
    `;
    
    document.getElementById('modalTitle').textContent = 'Sobre o Sistema';
    document.getElementById('modalBody').innerHTML = sobreHTML;
    const modal = new bootstrap.Modal(document.getElementById('modalContainer'));
    modal.show();
  }
</script>

</body>
</html>
